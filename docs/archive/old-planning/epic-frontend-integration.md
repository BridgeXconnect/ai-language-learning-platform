# Frontend-Backend Integration Epic - Brownfield Enhancement

## Epic Goal

Integrate a modern, AI-generated React frontend with the existing FastAPI backend to create a cohesive, production-ready AI Language Learning Platform that serves all four user roles (Sales, Course Managers, Trainers, Students) with seamless authentication, real-time features, and role-based access control.

## Epic Description

**Existing System Context:**

- Current relevant functionality: Complete FastAPI backend with comprehensive API endpoints, authentication, course generation, and multi-role support
- Technology stack: FastAPI (Python), PostgreSQL, JWT authentication, WebSocket support, AI services integration
- Integration points: REST API endpoints, WebSocket connections, file upload handling, role-based authorization

**Enhancement Details:**

- What's being added/changed: Modern React frontend generated by v0.dev that replaces existing basic frontend components
- How it integrates: Connect v0-generated components to existing FastAPI endpoints via REST API and WebSocket connections
- Success criteria: Fully functional platform where all user roles can complete their core workflows seamlessly

## Stories

### 1. **Story 1: Authentication & Navigation Integration**
Complete authentication flow integration between v0-generated frontend and existing FastAPI auth system, including role-based navigation and JWT token management.

**Key Components:**
- Login/Register forms → `/auth/login`, `/auth/register` endpoints
- JWT token storage and refresh logic
- Role-based sidebar navigation
- Protected route components
- User profile management

### 2. **Story 2: Sales Portal Integration** 
Connect v0-generated Sales Portal components to existing sales endpoints for course request management, SOP uploads, and dashboard metrics.

**Key Components:**
- NewCourseRequestWizard → `/sales/course-requests` endpoints
- SOPUploadPage → `/sales/course-requests/{id}/sop` file upload
- SalesRequestsDashboard → `/sales/course-requests` with filtering
- ClientFeedbackForm → `/sales/course-requests/{id}/feedback`
- Dashboard statistics → `/sales/dashboard-stats`

### 3. **Story 3: Course Manager Portal Integration**
Integrate Course Manager components with AI generation endpoints, including real-time progress tracking via WebSocket connections.

**Key Components:**
- CourseGenerationWizard → `/ai/generate-course` endpoint
- Real-time progress tracking → WebSocket `/ws/generation-updates`
- CourseApprovalInterface → `/courses/{id}` CRUD operations
- ContentLibraryBrowser → `/ai/indexed-sources` management
- Generation status monitoring → `/ai/generation-status/{id}`

### 4. **Story 4: Trainer & Student Portals Integration**
Complete the platform by integrating Trainer and Student portal components with their respective backend services.

**Key Components:**
- TrainerDashboard → trainer-specific endpoints
- LessonPlanViewer → lesson content endpoints
- EnhancedStudentDashboard → student progress tracking
- InteractiveLessonPlayer → lesson content and exercise systems
- Performance analytics integration

## Compatibility Requirements

- [x] Existing APIs remain unchanged - v0 frontend adapts to current API structure
- [x] Database schema changes are backward compatible - no backend changes needed
- [x] UI follows modern design patterns while respecting existing API contracts
- [x] Performance impact is minimal - optimized API calls and caching

## Risk Mitigation

- **Primary Risk:** Authentication/authorization mismatch between v0-generated frontend and existing JWT system
- **Mitigation:** Create robust auth context wrapper and API service layer to handle token management
- **Rollback Plan:** Keep existing frontend components as backup, use feature flags for gradual rollout

## Definition of Done

- [x] All four user roles can complete their core workflows end-to-end
- [x] Authentication and authorization working correctly across all portals
- [x] Real-time features (WebSocket) functioning properly
- [x] File upload and AI generation integration complete
- [x] Existing API functionality verified through integration testing
- [x] No regression in backend performance or functionality
- [x] Modern UI/UX standards met with responsive design

## Technical Integration Plan

### Phase A: Generate with v0.dev
1. Use the v0 prompt to generate the complete React application
2. Review and organize the generated components
3. Set up proper project structure and dependencies

### Phase B: Backend Integration Layer
1. Create API service layer to connect to existing FastAPI endpoints
2. Implement authentication context and JWT token management
3. Set up WebSocket service for real-time features

### Phase C: Component-by-Component Integration
1. Start with authentication flow (lowest risk)
2. Progress through each portal in order of complexity
3. Test each integration thoroughly before moving to next

### Phase D: End-to-End Testing & Optimization
1. Complete user journey testing for all roles
2. Performance optimization and error handling
3. Final integration verification

---

**Next Step:** Use this epic to guide the v0 generation and subsequent BMAD agent integration work. 